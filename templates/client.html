{% extends "layout.html" %}
{% block body %}
<script type="text/javascript">
  $(function() {
      var submit_form = function(e) {
      keynum = e.keyCode;

      if (keynum == 37) { // left
        command = 'left'
        document.getElementById("direction").src = "{{ url_for('static',filename='left.png') }}";
      } else if (keynum == 38) { // up
        command = 'forward'
        document.getElementById("direction").src = "{{ url_for('static', filename='forward.png') }}";
      } else if (keynum == 39) { //right
        command = 'right'
        document.getElementById("direction").src = "{{ url_for('static', filename='right.png') }}";
      } else if (keynum == 40) { //down
        command = 'backward'
        document.getElementById("direction").src = "{{ url_for('static', filename='backward.png') }}";
      }

      $.getJSON($SCRIPT_ROOT + '_drive', {
        direction: command
      }, function(data) {
        console.log('calling sumbit_form');
        $('#result').text(data.result);
      });
  
    return false;
  };

  $('body').bind('keydown', submit_form);
  }).ready();
    
</script>
<span id="result"></span>
<img id="direction" src="{{ url_for('static', filename='stopped.png') }}"><img>
{% endblock %}
